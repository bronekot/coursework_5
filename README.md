# Проект по работе с API HeadHunter и базой данных PostgreSQL

Этот учебный проект представляет собой инструмент для сбора данных о вакансиях с сайта HeadHunter, сохранения их в базу данных PostgreSQL и выполнения различных запросов к этим данным.

## Функциональность

- Получение данных о вакансиях с API HeadHunter
- Сохранение данных о компаниях и вакансиях в базу данных PostgreSQL
- Выполнение различных запросов к базе данных, таких как:
  - Получение списка всех компаний и количества вакансий у каждой компании
  - Получение списка всех вакансий с указанием названия компании, названия вакансии, зарплаты и ссылки на вакансию
  - Получение средней зарплаты по вакансиям
  - Получение списка всех вакансий, у которых зарплата выше средней
  - Получение списка всех вакансий, в названии которых содержатся переданные в метод слова

## Требования

- Python 3.12+
- PostgreSQL
- Poetry

## Установка

1. Клонируйте репозиторий:

   ```
   git clone https://github.com/ваш-username/название-репозитория.git
   cd название-репозитория
   ```
2. Установите зависимости с помощью Poetry:

   ```
   poetry install
   ```
3. Создайте файл `.env` в корневой директории проекта и добавьте в него следующие параметры:

   ```
   DB_NAME=your_db_name
   DB_USER=your_username
   DB_PASSWORD=your_password
   DB_HOST=localhost
   DB_PORT=5432
   ```
4. Создайте базу данных в PostgreSQL с именем, указанным в `DB_NAME`.

## Использование

Запустите основной скрипт:

```
poetry run python src/main.py
```

Этот скрипт выполнит следующие действия:

1. Получит данные о вакансиях для 10 предопределенных компаний с HeadHunter API.
2. Сохранит эти данные в базу данных PostgreSQL.
3. Выполнит и выведет результаты всех реализованных запросов к базе данных.

## Структура проекта

```
src/
  abstract_classes/
    abstract_classes.py
    __init__.py
  api/
    hh_api.py
    __init__.py
  database/
    db_manager.py
    __init__.py
  vacancies/
    vacancy.py
    __init__.py
  config.py
  main.py
.gitignore
pyproject.toml
README.md
```

## Разработка

Этот проект использует Poetry для управления зависимостями и виртуальным окружением. Чтобы начать разработку:

1. Установите Poetry, если оно еще не установлено: https://python-poetry.org/docs/#installation
2. Установите зависимости проекта: `poetry install`
3. Активируйте виртуальное окружение: `poetry shell`
